{"ast":null,"code":"var _s = $RefreshSig$();\n\n// import hmacSHA512 from \"crypto-js/hmac-sha512\";\nimport sha256 from \"crypto-js/sha256\";\nimport Base64 from \"crypto-js/enc-base64\";\nimport CryptoJS from \"crypto-js\";\nimport { useEffect } from \"react\"; // Dependency: Node.js crypto module\n// https://nodejs.org/api/crypto.html#crypto_crypto\n\nconst VerifierChallenger = () => {\n  _s();\n\n  function base64URLEncode(str) {\n    return str.toString(\"base64\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n  } //   var code_verifier = base64URLEncode(crypto.randomBytes(32));\n  // var randomBytes=require('randomBytes')\n  // console.log(\"random\")\n  // console.log(crypto.randomBytes(32))\n\n\n  var wordArray = CryptoJS.lib.WordArray.random(32);\n  var code_verifier = base64URLEncode(Base64.stringify(wordArray)); // var code_verifier = base64URLEncode(wordArray);\n  //   function sha256(buffer) {\n  //     return crypto.createHash(\"sha256\").update(buffer).digest();\n  //   }\n  // var code_challenger = base64URLEncode(sha256(code_verifier));\n\n  var code_challenger = base64URLEncode(Base64.stringify(sha256(code_verifier)));\n  console.log(\"code_verifier\");\n  console.log(code_verifier);\n  console.log(\"code_challenger\");\n  console.log(code_challenger); // const SigninHandler=()=>{\n  //   console.log(\"in handler\")\n  //   console.log(code_challenger)\n  //   useEffect(() => {\n  //     fetch(`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&redirect_uri=http://localhost:3000/&scope=openid%20profile&state=xyzABC123`)\n  //     .then((res)=>{\n  //       console.log(res)\n  //     })\n  //   })\n  // }\n\n  useEffect(() => {\n    console.log(\"in useeffect verifierchallenger\");\n    console.log(typeof code_challenger);\n    const requestOptions = {\n      method: \"POST\",\n      mode: \"no-cors\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: 1,\n        ve: code_verifier,\n        ch: code_challenger\n      })\n    }; // return(\n\n    console.log(\"in return useeffect verifierchallenger\");\n    fetch(\"http://localhost:8080/rahu\", requestOptions).then(response => console.log(response)); // .then(data => console.log(data));\n    // );\n  }, [code_challenger, code_verifier]); // return (\n  //   <a href={`https://dev-12u2388w.us.auth0.com/authorize?\n  //   response_type=code&\n  //   code_challenge=${code_challenger}&\n  //   code_challenge_method=S256&\n  //   client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&\n  //   redirect_uri=http://localhost:3000/&\n  //   scope=openid%20profile&\n  //   state=xyzABC123`}>\n  //   Sign In\n  // </a>)\n  //  console.log(\"before click sign in\"),\n  // {`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&redirect_uri=http://localhost:3000/&scope=openid%20profile&state=xyzABC123`}\n  // <button onClick={SigninHandler}>Sign_in</button>\n  // <a href={`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=wplaaHT4M6bWFG1wmKdvKU6hPbFfWlOy&redirect_uri=http://localhost:3000/welcome&scope=openid%20profile%20offline_access&state=xyzABC123`}>Sign_in</a>\n  // );\n};\n\n_s(VerifierChallenger, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = VerifierChallenger;\nexport default VerifierChallenger;\n\nvar _c;\n\n$RefreshReg$(_c, \"VerifierChallenger\");","map":{"version":3,"sources":["/Users/rohith/Desktop/react-auth0/src/VerifierChallenger.js"],"names":["sha256","Base64","CryptoJS","useEffect","VerifierChallenger","base64URLEncode","str","toString","replace","wordArray","lib","WordArray","random","code_verifier","stringify","code_challenger","console","log","requestOptions","method","mode","headers","body","JSON","id","ve","ch","fetch","then","response"],"mappings":";;AAAA;AACA,OAAOA,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,SAAT,QAA0B,OAA1B,C,CAEA;AACA;;AACA,MAAMC,kBAAkB,GAAG,MAAM;AAAA;;AAC7B,WAASC,eAAT,CAAyBC,GAAzB,EAA8B;AAC5B,WAAOA,GAAG,CACPC,QADI,CACK,QADL,EAEJC,OAFI,CAEI,KAFJ,EAEW,GAFX,EAGJA,OAHI,CAGI,KAHJ,EAGW,GAHX,EAIJA,OAJI,CAII,IAJJ,EAIU,EAJV,CAAP;AAKD,GAP4B,CAQ/B;AACA;AACA;AACA;;;AACA,MAAIC,SAAS,GAAGP,QAAQ,CAACQ,GAAT,CAAaC,SAAb,CAAuBC,MAAvB,CAA8B,EAA9B,CAAhB;AACA,MAAIC,aAAa,GAAGR,eAAe,CAACJ,MAAM,CAACa,SAAP,CAAiBL,SAAjB,CAAD,CAAnC,CAb+B,CAc/B;AACA;AACA;AACA;AACE;;AACF,MAAIM,eAAe,GAAGV,eAAe,CAACJ,MAAM,CAACa,SAAP,CAAiBd,MAAM,CAACa,aAAD,CAAvB,CAAD,CAArC;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,eAAZ,EAvB+B,CAwB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOF,eAAnB;AACA,UAAMG,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,IAAI,EAAC,SAFgB;AAGrBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAHY;AAIrBC,MAAAA,IAAI,EAAEC,IAAI,CAACT,SAAL,CAAe;AAAEU,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,EAAE,EAACZ,aAAZ;AAA0Ba,QAAAA,EAAE,EAACX;AAA7B,OAAf;AAJe,KAAvB,CAHc,CASd;;AACEC,IAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ;AACFU,IAAAA,KAAK,CAAC,4BAAD,EAA+BT,cAA/B,CAAL,CAAoDU,IAApD,CAAyDC,QAAQ,IAAIb,OAAO,CAACC,GAAR,CAAYY,QAAZ,CAArE,EAXc,CAYd;AACA;AACD,GAdQ,EAcN,CAACd,eAAD,EAAiBF,aAAjB,CAdM,CAAT,CAlC+B,CAiD/B;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACF;AACD,CAlED;;GAAMT,kB;;KAAAA,kB;AAmEN,eAAeA,kBAAf","sourcesContent":["// import hmacSHA512 from \"crypto-js/hmac-sha512\";\nimport sha256 from \"crypto-js/sha256\";\nimport Base64 from \"crypto-js/enc-base64\";\nimport CryptoJS from \"crypto-js\";\nimport { useEffect } from \"react\";\n\n// Dependency: Node.js crypto module\n// https://nodejs.org/api/crypto.html#crypto_crypto\nconst VerifierChallenger = () => {\n    function base64URLEncode(str) {\n      return str\n        .toString(\"base64\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\")\n        .replace(/=/g, \"\");\n    }\n  //   var code_verifier = base64URLEncode(crypto.randomBytes(32));\n  // var randomBytes=require('randomBytes')\n  // console.log(\"random\")\n  // console.log(crypto.randomBytes(32))\n  var wordArray = CryptoJS.lib.WordArray.random(32);\n  var code_verifier = base64URLEncode(Base64.stringify(wordArray));\n  // var code_verifier = base64URLEncode(wordArray);\n  //   function sha256(buffer) {\n  //     return crypto.createHash(\"sha256\").update(buffer).digest();\n  //   }\n    // var code_challenger = base64URLEncode(sha256(code_verifier));\n  var code_challenger = base64URLEncode(Base64.stringify(sha256(code_verifier)));\n  console.log(\"code_verifier\");\n  console.log(code_verifier);\n  console.log(\"code_challenger\");\n  console.log(code_challenger);\n  // const SigninHandler=()=>{\n  //   console.log(\"in handler\")\n  //   console.log(code_challenger)\n  //   useEffect(() => {\n  //     fetch(`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&redirect_uri=http://localhost:3000/&scope=openid%20profile&state=xyzABC123`)\n  //     .then((res)=>{\n  //       console.log(res)\n  //     })\n  //   })\n  // }\n  useEffect(() => {\n    console.log(\"in useeffect verifierchallenger\");\n    console.log(typeof(code_challenger))\n    const requestOptions = {\n      method: \"POST\",\n      mode:\"no-cors\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ id: 1, ve:code_verifier,ch:code_challenger })\n    };\n    // return(\n      console.log(\"in return useeffect verifierchallenger\");\n    fetch(\"http://localhost:8080/rahu\", requestOptions).then(response => console.log(response));\n    // .then(data => console.log(data));\n    // );\n  }, [code_challenger,code_verifier]);\n  // return (\n    //   <a href={`https://dev-12u2388w.us.auth0.com/authorize?\n    //   response_type=code&\n    //   code_challenge=${code_challenger}&\n    //   code_challenge_method=S256&\n    //   client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&\n    //   redirect_uri=http://localhost:3000/&\n    //   scope=openid%20profile&\n    //   state=xyzABC123`}>\n    //   Sign In\n    // </a>)\n    //  console.log(\"before click sign in\"),\n    // {`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=UeOlj5xtXsESZ2PGctxyOPoz22ybghi3&redirect_uri=http://localhost:3000/&scope=openid%20profile&state=xyzABC123`}\n    // <button onClick={SigninHandler}>Sign_in</button>\n\n    // <a href={`https://dev-12u2388w.us.auth0.com/authorize?response_type=code&code_challenge=${code_challenger}&code_challenge_method=S256&client_id=wplaaHT4M6bWFG1wmKdvKU6hPbFfWlOy&redirect_uri=http://localhost:3000/welcome&scope=openid%20profile%20offline_access&state=xyzABC123`}>Sign_in</a>\n  // );\n};\nexport default VerifierChallenger;"]},"metadata":{},"sourceType":"module"}